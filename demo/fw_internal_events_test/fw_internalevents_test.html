 <!DOCTYPE html>

<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Internal events test</title>
		<meta charset="utf-8">		
	</head>
	<body>
		<canvas id="myCanvas" width="800" height="600">
			Your browser does not support the HTML5 canvas tag.
		</canvas>

        <script src="http://documentcloud.github.io/underscore/underscore-min.js"></script>
        <script src="http://documentcloud.github.io/backbone/backbone-min.js"></script>
        <script src="../../three.js/build/three.extended.js"></script>
        <script src="../../src/actionbricks.js"></script>
        <script src="../../src/pre-defined_action_blocks.js"></script>

		<script>
			var canvas1 = document.getElementById("myCanvas");
			var tdafw = new TDAFW({},{canvas:canvas1});
			
            function onWindowResize() {
                var renderer = tdafw.getRenderer();
                var camera = tdafw.getDefaultCamera();
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }

			tdafw.loadScene("./test_json1.js",function (success, result) {
				if(success) {
                    onWindowResize();
                    window.addEventListener('resize', onWindowResize, false);
					tdafw.run();
				}			
			});			
		</script>
</body></html>